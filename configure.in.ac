#------------------------------------------------------------------------------#
# Initialize autoconf
#------------------------------------------------------------------------------#

AC_INIT(hash_mark, VERSION_TAG, bergen@lanl.gov)
AC_CONFIG_AUX_DIR(config)

VERSION_INFORMATION="VERSION_TAG"
AC_SUBST(VERSION_INFORMATION)

#------------------------------------------------------------------------------#
# Initialize automake
#------------------------------------------------------------------------------#

AM_INIT_AUTOMAKE

#------------------------------------------------------------------------------#
# Configuration targets
#------------------------------------------------------------------------------#

AC_CONFIG_FILES([Makefile \
	lib/Makefile \
	bin/Makefile \
	doc/Makefile \
	doc/doxygen.conf \
])

#------------------------------------------------------------------------------#
# Program options
#------------------------------------------------------------------------------#

AC_PROG_CC
AC_PROG_CXX
AC_PROG_LIBTOOL
CONFIG_PROG_DOXYGEN

#------------------------------------------------------------------------------#
# Enable options
#------------------------------------------------------------------------------#

CONFIG_GENERIC_ENABLE(assertions, ASSERTIONS)

#------------------------------------------------------------------------------#
# Handle Doxygen
#------------------------------------------------------------------------------#

if test "$HAS_DOXYGEN" = "yes" ; then
	AC_SUBST(DOC, [doc])
	AC_CONFIG_COMMANDS([doc], [make doc])
fi

#------------------------------------------------------------------------------#
# Output
#------------------------------------------------------------------------------#

AC_OUTPUT
